# Предсказание цены на жилье в городе Москва


## Актуальность темы и практическая значимость

Выбор темы работы обусловлен вполне конкретной задачей актуальной для бизнеса - созданием сервиса, который по заданным координатам новостройки и оговоренному перечню параметров (класс жилья, материалы стен, этажность) будет предсказывать среднее значение квадратного метра в этом жилье. 


## Содержание работы

### Соревнование Kaggle

Выбрал соревнование [Sber Russian housing market](https://www.kaggle.com/competitions/sberbank-russian-housing-market/overview). В рамках соревнования:
 - провел очистку данных и добавил новые признаки
 - несколько моделей для предсказания цены квартиры:
    - Наивная модель, предсказывающая цену квартиры по району и расстоянию до ближайшего метро
    - Модель градиентного бустинга с помощью CatBoost
    - Ансамбли моделей c помощью CatBoost и LightAutoML
 - разобрал несколько решений, в том числе 1st place solution

Особенности:
 - Очень “грязные” данные, в том числе и для сабмита:
    - присутствуют много пропусков, в том числе и для очень важных, например площадь квартиры.
    - присутствуют некорректные данные, например площадь кухни больше общей площади или этаж выше максимального этажа здания
    - присутствуют кейсы с некорректной целевой переменной
 - Данные для рынка новостроек и вторички сильно отличаются. В некоторых случаях актуально строить отдельные модели для обоих рынков.
 - Для валидации моих экспериментов обработки данных и построения моделей использовал Leaderboard. Чтобы продвинуться в Leaderboard необходимо использовать различные ансамбли моделей и предсказывать на неполных и не всегда корректных  данных, в том числе добиваясь не всегда корректной оценки стоимости жилья. Это противоречит изначальной задачи.

Ноутбук для kaggle - **sber-russian-housing-market-emelyanovan.ipynb**


### MVP

Проект реализован с помощью Docker-compose + RabbitMQ в виде консольного приложения

Папка с проектом - **skillfactory_project**
 - Для запуска необходимо из папки проекта выполнить команду ***docker-compose up -d --build***
 - Для остановки - ***docker-compose down***


## Полученные результаты

 - В рамках проекта погрузился в тему проекта и выполнил предобработку данных.
 - Были подготовлены несколько моделей для предсказания цены квартиры:
    - Наивная модель, предсказывающая цену квартиры по району и расстоянию до ближайшего метро
    - Модель градиентного бустинга с помощью CatBoost
    - Ансамбли моделей c помощью CatBoost и LightAutoML
 - Реализовал модель в виде консольного приложения с помощью docker


## Выводы

 - Необходимо очень аккуратно подходить к очистке данных в зависимости от поставленной задачи. В том числе и к оценке корректности целевой переменной.
 - Необходимо различать рынок новостроек и вторичного жилья.
 - Предсказывать лучше не цену квартиры, а цену квадратного метра.
 - Желательно внести признак, отвечающий за определение геопозиции - например район + расстояние до метро.
 - Желательно добавлять комбинации признаков, например зная этаж и общую этажность здания, добавить их отношение.
 - Необходимо аккуратно выбору энкодеров для категориальных признаков для различных моделей.



